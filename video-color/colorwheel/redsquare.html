<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta http-equiv='X-UA-Compatible' content='ie=edge'>
  <title>Document</title>
  <style>
    * {
      /* box-sizing: border-box; */
      padding: 0;
      margin: 0;
    }

    .canvas-container {
      border-radius: 100px;
      overflow: hidden;
      width: 100px;
      height: 100px;
      box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.75);
    }
  </style>
</head>

<body>
  <div class="canvas-container">
    <canvas id='canvas'></canvas>
  </div>
  <script>
    const canvas = document.getElementById('canvas');
    canvas.width = 100;
    canvas.height = 100;
    const ctx = canvas.getContext('2d');
    

    function drawCircle(red, green, blue, alpha) {
      const radius = 50;
      const image = ctx.createImageData(2*radius, 2*radius);
      const data = image.data;

      for(let x = -radius; x < radius; x++) {
        for(let y = -radius; y < radius; y++) {
          let distance = Math.sqrt(x*x + y*y);

          if(distance > radius) {
            continue;
          }
            let rowLength = 2*radius;
            let adjustedX = x + radius; // convert x from [-50, 50] to [0, 100] (the coordinates of the image data array)
            let adjustedY = y + radius; // convert y from [-50, 50] to [0, 100] (the coordinates of the image data array)
            let pixelWidth = 4; // each pixel requires 4 slots in the data array
            let index = (adjustedX + (adjustedY * rowLength)) * pixelWidth;
            data[index] = red;
            data[index+1] = green;
            data[index+2] = blue;
            data[index+3] = alpha;
        }
      }
      ctx.putImageData(image, 0, 0);
    }

      drawCircle(255, 255, 0, 255);
      canvas.onmousemove = function (e) { // Get the current mouse position var
        r = canvas.getBoundingClientRect(), x = e.clientX - r.left, y = e.clientY - r.top;
        console.log(x, " ", y);
      }
  </script>
</body>

</html>